<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Le Voyage d'Orion &ndash; Visualiseur de cartes</title>
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="app.js" defer></script>
  </head>
  <body>
    <header class="app-header">
      <div class="branding">
        <h1>Le Voyage d'Orion</h1>
        <p>Visualiseur de cartes</p>
      </div>
      <nav class="category-nav" aria-label="Navigation des catégories">
        <button type="button" class="nav-button" data-category="histoire">
          Histoires
        </button>
        <button type="button" class="nav-button" data-category="enigme">
          Énigmes
        </button>
        <button type="button" class="nav-button" data-category="encyclopedie">
          Encyclopédie
        </button>
        <button type="button" class="nav-button" data-category="carte">
          Carte du ciel
        </button>
        <button type="button" class="nav-button" data-category="epinglees">
          Épinglées
        </button>
      </nav>
    </header>

    <div class="app-shell">
      <aside id="sidebar" aria-label="Liste des cartes">
        <div class="sidebar-header">
          <h2>Cartes</h2>
          <p id="sidebar-subtitle"></p>
        </div>
        <ul id="cards-list"></ul>
        <p id="sidebar-empty" class="empty-state hidden">
          Aucune carte à afficher pour cette vue.
        </p>
      </aside>

      <main id="main-panel">
        <section id="cards-section" aria-live="polite">
          <div id="cards-container" class="cards-grid"></div>
          <p id="cards-empty" class="empty-state hidden">
            Pas de carte dans cette catégorie pour le moment.
          </p>
        </section>

        <section
          id="sky-map-section"
          class="hidden"
          aria-label="Carte du ciel interactive"
        >
          <div class="sky-map-controls">
            <h2>Carte du ciel</h2>
            <p>Zoom à la molette, cliquer-glisser pour explorer.</p>
          </div>
          <div id="sky-map-stage">
            <img
              id="sky-map-image"
              src="images/cartes/Carte_du_ciel.svg"
              alt="Carte du ciel du Voyage d'Orion"
              draggable="false"
            />
          </div>
          <div class="sky-map-floating-controls">
            <button id="zoom-out" type="button" aria-label="Zoom arrière">
              &#8722;
            </button>
            <button id="zoom-reset" type="button" aria-label="Recentrer">
              &#10227;
            </button>
            <button id="zoom-in" type="button" aria-label="Zoom avant">
              &#43;
            </button>
            <button
              id="sky-fullscreen-toggle"
              type="button"
              aria-label="Plein écran"
            >
              &#9633;
            </button>
          </div>
          <button
            id="sky-fullscreen-exit"
            class="sky-fullscreen-exit hidden"
            type="button"
            aria-label="Quitter le plein écran"
          >
            &#10005;
          </button>
        </section>
      </main>
    </div>

    <button
      id="cards-back-to-top"
      class="back-to-top-btn hidden"
      type="button"
      aria-label="Remonter en haut de la page"
      title="Haut de page"
    >
      &#8593;
    </button>

    <div
      id="inspection-overlay"
      class="hidden"
      role="dialog"
      aria-modal="true"
      aria-label="Visualisation de carte"
    >
      <div class="inspection-shell">
        <div class="inspection-floating-controls">
          <button
            id="inspection-pin"
            class="icon-button"
            type="button"
            aria-label="Epingler cette carte"
            title="Epingler"
          ></button>
          <button
            id="close-inspection"
            class="icon-button"
            type="button"
            aria-label="Fermer l'inspection"
            title="Fermer"
          >
            &times;
          </button>
        </div>
        <div
          id="inspection-stage"
          class="inspection-stage"
          aria-live="polite"
          aria-label="Visualisation 3D de la carte"
        >
          <div id="inspection-card" class="inspection-card">
            <div class="inspection-card-face face-front">
              <img
                id="inspection-image-front"
                alt=""
                draggable="false"
              />
            </div>
            <div class="inspection-card-face face-back">
              <img id="inspection-image-back" alt="" draggable="false" />
            </div>
          </div>
        </div>
        <div class="inspection-actions">
          <button
            id="inspection-flip"
            type="button"
            aria-label="Retourner la carte"
            title="Retourner"
          ></button>
        </div>
      </div>
    </div>
  </body>
</html>
